// по всем вопросам обращаться dzsysop@mail.ru
Процедура ОбработкаПроведения()
	ВыбратьСтроки();
	Пока ПолучитьСтроку() = 1 Цикл

		Если ОстНДС>0 Тогда
			Операция.НоваяПроводка();
			Операция.Дебет.Счет = СчетПоКоду("217.21",ПланыСчетов.Основной);
			Операция.Дебет.СтавкиНДС = СтавкаНДС;
			Операция.Дебет.Склады = РасхСклад;
			Операция.Кредит.Счет = СчетПоКоду("825.21",ПланыСчетов.Основной);
			Операция.Кредит.СтавкиНДС = СтавкаНДС;
			Операция.Кредит.Склады = РасхСклад;
			Операция.Сумма=ОстНДС;
		КонецЕсли;
		
		Если ОстНац<>0 Тогда
			Операция.НоваяПроводка();
			Операция.Дебет.Счет = СчетПоКоду("217.21",ПланыСчетов.Основной);
			Операция.Дебет.СтавкиНДС = СтавкаНДС;
			Операция.Дебет.Склады = РасхСклад;
			Операция.Кредит.Счет = СчетПоКоду("821.21",ПланыСчетов.Основной);
			Операция.Кредит.СтавкиНДС = СтавкаНДС;
			Операция.Кредит.Склады = РасхСклад;
			Операция.Сумма=ОстНац;
		КонецЕсли;
		
	КонецЦикла;
	Операция.Записать();

КонецПроцедуры
